!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.JSToolkit=n():t.JSToolkit=n()}(window,function(){return function(t){var n={};function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=t,o.c=n,o.d=function(t,n,e){o.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,n){if(1&n&&(t=o(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)o.d(e,i,function(n){return t[n]}.bind(null,i));return e},o.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(n,"a",n),n},o.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},o.p="",o(o.s=0)}([function(t,n){L.MyLayer=L.Layer.extend({initialize:function(t,n){var o=n.color;this.positions=t,this.color=o},onAdd:function(t){var n=this;this._map=t;var o=this._map.getPanes().overlayPane,e=L.DomUtil.create("div","leaflet-MyLayer-container",o);this.container=e;var i=this._map.getSize(),r=i.x,a=i.y;Object.assign(e.style,{position:"absolute",width:"".concat(r,"px"),height:"".concat(a,"px")}),this.points=this.initPoints(this.positions),this.drawPoints(),t.on("zoomstart",function(){n.container.style.display="none"}),t.on("zoomend",function(){n.container.style.display="",n.drawPoints()})},updateData:function(t){console.log(t,"update data");var n=t.length-this.points.length;if(n<0)this.points.splice(n).forEach(L.DomUtil.remove);else{var o=this.initPoints(new Array(n).fill());this.points=this.points.concat(o)}this.positions=t,this.drawPoints()},updateColor:function(t){this.color=t,this.drawPoints()},initPoints:function(t){var n=this;return t.map(function(){var t=L.DomUtil.create("div","",n.container);return Object.assign(t.style,{position:"absolute",width:"10px",height:"10px",borderRadius:"50%"}),t})},drawPoints:function(){var t=this,n=this.color,o=void 0===n?"red":n;this.positions.forEach(function(n,e){var i=t._map.latLngToLayerPoint(n),r=i.x,a=i.y;Object.assign(t.points[e].style,{display:"",left:"".concat(r,"px"),top:"".concat(a,"px"),background:o})})},onRemove:function(){L.DomUtil.remove(this.container)}}),L.myLayer=function(t,n){return new L.MyLayer(t,n)}}])});